<% @tiktoks.each do |tiktok| %>  
  <%= form_with(model: tiktok, local: true, multipart: true,class:"foo") do |form| %>
  <%hex = SecureRandom.hex(10)%>
<!-- ポップアップ tiktok-->
  <div class="popup_wrap">
    <input id="trigger_<%= tiktok%>" type="checkbox">
    <div class="popup_overlay">
      <label for="trigger_<%= tiktok%>" class="popup_trigger"></label>
      <div class="popup_content_p">
      <!-- アカウント情報-->
      <div class="popup_wrap">
        <input id="trigger_acount<%= tiktok%>" type="checkbox">
          <div class="popup_content_acount edit_sns_popup">
            <div class="sns_acount_popup_title">
             <p class="popup_title" style="margin-bottom:27px;">tiktokリンク設定</p>
            </div>
          <div class="sns_acount_form_pp" style="height:80px;">
            <div class="sns_acount_form_p">
              <label  class="form_title">アカウントのURL&nbsp;</label>
               <%= form.text_field :account,class:"sns_edit_form",maxlength: "100",required: true%>
              <label class="form_title">コメントを追加&emsp;</label>
               <%= form.text_field :comment,class:"sns_edit_form",maxlength: "100"%>
            </div>
           </div>
          <p><label class="edit_close_btn"  for="trigger_acount<%= tiktok%>"><i class="fas fa-times-circle edit_close_btn"></i></label></p>
          <input class="OK" type="submit" value="保存" name="account">
        </div>
      </div>
 <!-- 外側色-->
  <div class="popup_wrap">
    <input id="trigger_outsidecolor<%= tiktok%>" type="checkbox">
    <div class="popup_content_c">
      <p class="popup_title">Tiktokの外側色</p>
      <p><label class="edit_close_btn"  for="trigger_outsidecolor<%= tiktok%>"><i class="fas fa-times-circle edit_close_btn"></i></label></p>
        <% @color_index.each do |color| %>
         <%= form.radio_button :outsidecolor, color,id:"C#{hex}#{color}"%>
         <label for="C<%= hex%><%= color%>" class="color_index_p">
            <span class="color_index C<%= hex%><%= color%>"></span>
          </label>
        <%end%>
      <input class="OK" type="submit" value="保存" name="outsidecolor">
    </div>
  </div>

 <!-- 内側色-->
  <div class="popup_wrap">
    <input id="trigger_insidecolor<%= tiktok%>" type="checkbox">
    <div class="popup_content_c">
      <p class="popup_title">Tiktokの内側色</p>
      <p><label class="edit_close_btn"  for="trigger_insidecolor<%= tiktok%>"><i class="fas fa-times-circle edit_close_btn"></i></label></p>
        <% @color_index.each do |color| %>
          <%= form.radio_button :insidecolor, color,id:"B#{hex}#{color}"%>
          <label for="B<%= hex%><%= color%>" class="color_index_p">
            <span class="color_index B<%= hex%><%= color%>"></span>
          </label>
        <%end%>
      <input class="OK" type="submit" value="保存" name="insidecolor">
    </div>
  </div>
    <!-- tiktokポップアップ選択画面 -->
      <div class="popup_content_select">
        <p class="popup_title">Tiktok設定</p>
        <%= link_to '削除', "/tiktoks/#{tiktok.id}",class:"link_destroy",method: :delete, data: {confirm: "削除しますか?"}  %>
        <p><label class="edit_close_btn"  for="trigger_<%= tiktok%>"><i class="fas fa-times-circle edit_close_btn"></i></label></p>
        <p><label for="trigger_acount<%= tiktok%>" class="open_btn_s">tiktokのリンク・コメントを編集</label></p>
        <p><label for="trigger_outsidecolor<%= tiktok%>" class="open_btn_s">tiktokアイコンの色を設定(外側)</label></p>
        <p><label for="trigger_insidecolor<%= tiktok%>" class="open_btn_s">tiktokアイコンの色を設定(内側)</label></p>
      </div>
    </div>
   </div>
  </div>

  <% if @tiktok.account!="" %>
    <label for="trigger_<%= tiktok%>">
    <div class="sns_p">
      <p class="sns_text"><%= tiktok.comment %></p>
      <div class="sns_outside tiktok_outsidecolor<%= tiktok.outsidecolor%>">
        <span class="fab fa-tiktok sns_inside tiktok_insidecolor<%= tiktok.insidecolor%>"></span>
      </div>
    </div>
    </label>
  <%end%>

<style>

    /*tiktokアイコン 外側色*/
  .tiktok_outsidecolor<%= tiktok.outsidecolor%>{
  background-color: #<%= tiktok.outsidecolor%>;
  }

  /*tiktokアイコン 内側色*/
  .tiktok_insidecolor<%= tiktok.insidecolor%>{
  color: #<%= tiktok.insidecolor%>;
  }

  <% @color_index.each do |color| %>
    .C<%= hex%><%= color%>{
    background-color: #<%= color%>;
    }
  <%end%>

  <% @color_index.each do |color| %>
    .B<%= hex%><%= color%>{
    background-color: #<%= color%>;
    }
  <%end%>

</style>

  <% end %>
 <% end %>